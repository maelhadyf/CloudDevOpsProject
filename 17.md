# Multi-Tier Application Deployment with Terraform

- Create ‘ivolve’ VPC manually in AWS and use Data block to get VPC id in your configuration file. 
- Use Terraform to define and deploy a multi-tier architecture including 2 subnets, EC2, and RDS database. 
- Use local provisioner to write the EC2 IP in a file called ec2-ip.txt.

## 📋 Project Overview
This project provisions a complete AWS infrastructure using **Terraform**, including VPC, EC2, and RDS instances, to create a secure and scalable architecture.

---

## 🏗️ Infrastructure Components

- **🔸 VPC** with public and private subnets
- **🖥️ EC2 instance** in the public subnet
- **🗄️ RDS MySQL database** in the private subnet
- **🛡️ Security Groups** for EC2 and RDS
- **🌍 Internet Gateway** and **Route Tables**
- **🔌 Network configurations** (including subnets, security rules, and routing)

---

## 🚀 Prerequisites

To run this project, ensure the following:

- **AWS CLI** is installed and configured
- **Terraform** is installed
- **AWS access credentials** set up (either via environment variables or AWS profile)
- **SSH key pair** named `"jenkins"` for EC2 instance access

---

## 📁 Project Structure
.
├── main.tf          # Main infrastructure configuration
├── variables.tf     # Variable declarations
├── terraform.tfvars # Variable values
└── lab_17.md       # This README file

---

## 🔧 Configuration

The infrastructure includes:

- **Region**: us-east-1
- **VPC CIDR**: 10.0.0.0/16
- **Public Subnet**: 10.0.1.0/24 (us-east-1a)
- **Private Subnet**: 10.0.2.0/24 (us-east-1b)
- **EC2**: t2.micro with Amazon Linux 2
- **RDS**: MySQL 8.0 on db.t3.micro

---

## 🔒 Security Features

- EC2 instance in the public subnet with restricted SSH access
- RDS instance in the private subnet
- Security groups with minimal required access
- Database credentials managed through variables

---

## 🚀 Deployment Instructions

1. Clone the repository
2. Update `terraform.tfvars`
```hcl
db_username = "your_username"
db_password = "your_secure_password"
```
3. Initialize Terraform
```bash
terraform init
```
4. Review the plan
```bash
terraform plan
```
5. Apply the configuration
```bash
terraform apply
```

---

## 🧹 Cleanup
To destroy the infrastructure:
```bash
terraform destroy
```

---

## 📊 Outputs

After successful deployment, you'll receive:

- **EC2 instance public IP**
- **RDS endpoint**

---

## ⚠️ Important Notes

- Remember to change default database credentials
- Store sensitive information securely
- Review security group rules before production use
- Always backup your database before making changes

---

## ✨ Best Practices

- Keep credentials secure and never commit them to version control
-  Create a `.gitignore` file to prevent sensitive files from being committed:
  ```
# .gitignore
*.tfvars
*.tfvars.json
.terraform/
.terraform.lock.hcl
terraform.tfstate
terraform.tfstate.backup
  ```
- Use private subnets for databases
- Regularly update security group rules
- Monitor your resources
- Use tags for better resource management
